import{j as e,r,u as C,a as z}from"./index-CcXpoZej.js";import{c as b,S as F,a as E,F as L,M as P,G as R,D as M,T as B,b as A,d as _,e as T}from"./Sidebar--sQWCiQF.js";import{L as D}from"./layout-panel-left-Dg980y9u.js";import{X as O}from"./x-Bvf5J2ZL.js";import{E as $}from"./eye-q8FvYjmY.js";import{C as I}from"./code-xml-BImr0CmV.js";import{M as W}from"./minimize-2-BgC8Kc6L.js";import{M as G,r as H}from"./index-CCMhwwuo.js";import{h as q}from"./prism-BwnlqzRt.js";import{A as U}from"./activity-DXcP5pcm.js";import{B as X}from"./bot-BOc_zaCT.js";import{C as J}from"./cpu-BpRurmVZ.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],V=b("bell",K);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y=b("circle-check-big",Q),Z={'code[class*="language-"]':{color:"#eeffff",background:"none",fontFamily:"inherit",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",tabSize:4,hyphens:"none"},'pre[class*="language-"]':{color:"#eeffff",background:"transparent",padding:"1em",margin:"0",overflow:"auto"},comment:{color:"#546e7a",fontStyle:"italic"},prolog:{color:"#546e7a"},doctype:{color:"#546e7a"},cdata:{color:"#546e7a"},punctuation:{color:"#89ddff"},property:{color:"#f07178"},tag:{color:"#f07178"},boolean:{color:"#f78c6c"},number:{color:"#f78c6c"},constant:{color:"#f78c6c"},symbol:{color:"#f78c6c"},deleted:{color:"#f07178"},string:{color:"#c3e88d"},char:{color:"#c3e88d"},"attr-value":{color:"#c3e88d"},builtin:{color:"#ffcb6b"},inserted:{color:"#c3e88d"},operator:{color:"#89ddff"},entity:{color:"#89ddff"},url:{color:"#89ddff"},atrule:{color:"#c792ea"},"attr-name":{color:"#ffcb6b"},keyword:{color:"#c792ea",fontStyle:"italic"},selector:{color:"#c792ea"},function:{color:"#82aaff"},"class-name":{color:"#ffcb6b"},regex:{color:"#c3e88d"},important:{color:"#c792ea",fontWeight:"bold"},variable:{color:"#f07178"},decorator:{color:"#ffcb6b"},annotation:{color:"#ffcb6b"},"triple-quoted-string":{color:"#c3e88d",fontStyle:"italic"},key:{color:"#f07178"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}};function ee(){const[g]=C(),w=z(),c=g.get("file"),[t,o]=r.useState(null),[x,m]=r.useState(!1),[d,h]=r.useState(null),[n,p]=r.useState(!1),[l,f]=r.useState(!1);r.useEffect(()=>{c?j(c):o(null)},[c]);async function j(s){m(!0),h(null);try{const a=await fetch(`/api/files?action=readFile&filePath=${encodeURIComponent(s)}`);if(!a.ok){const S=await a.json();throw new Error(S.error||"Failed to load file")}const i=await a.json();o(i)}catch(a){h(a.message),o(null)}finally{m(!1)}}function v(){w("/"),o(null),p(!1),f(!1)}const N=s=>s<1024?`${s} B`:s<1024*1024?`${(s/1024).toFixed(1)} KB`:`${(s/(1024*1024)).toFixed(1)} MB`,u=s=>({python:"#4e94c0",typescript:"#4b8ec2",javascript:"#b8a84e",sql:"#82aaff",yaml:"#8a6ea0",markdown:"#6ea8b0",shell:"#6ea870",html:"#c07a60",css:"#6e6ea0",json:"#8a9a6e",dockerfile:"#4e8a7e",plaintext:"#6c707e"})[s]||"#6c707e",[k,y]=r.useState("Workspace");return r.useEffect(()=>{async function s(){try{const a=await fetch("/api/gitea/repos?limit=1");if(a.ok){const i=await a.json();i.repos&&i.repos.length>0&&y(i.repos[0].full_name)}}catch(a){console.error("Failed to fetch repo name",a)}}s()},[]),e.jsxs("div",{className:"flex h-screen bg-[#09090b] text-foreground font-sans overflow-hidden relative",style:{fontFamily:"'Inter', -apple-system, sans-serif"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-[800px] h-[800px] bg-purple-500/5 rounded-full blur-[120px] pointer-events-none -translate-x-1/4 -translate-y-1/4 z-0"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-sky-500/5 rounded-full blur-[100px] pointer-events-none translate-x-1/4 translate-y-1/4 z-0"}),e.jsx("div",{className:"relative z-10 shrink-0",children:e.jsx(F,{})}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative z-10",children:[e.jsxs("header",{className:"flex items-center px-4 justify-between shrink-0 h-10 bg-black/40 backdrop-blur-md border-b border-white/5 z-10 w-full relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-obsidian-info/30 to-transparent opacity-50"}),e.jsxs("div",{className:"flex items-center gap-3 text-[12px]",children:[e.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openclaw:toggle-sidebar")),className:"p-1.5 hover:bg-white/10 rounded-md text-obsidian-muted hover:text-white transition-all active:scale-95 border border-transparent hover:border-obsidian-border/50",title:"Toggle Explorer",children:e.jsx(D,{className:"w-4 h-4 drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]"})}),e.jsx("div",{className:"w-[1px] h-4 bg-obsidian-border/50"}),e.jsx("span",{className:"font-bold text-foreground",children:k}),e.jsx("span",{className:"text-obsidian-muted",children:"/"}),e.jsx("span",{className:"text-foreground",children:t?t.name:"Dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center px-3 py-1 bg-black/20 border border-white/5 rounded-md text-[11px] font-medium text-foreground gap-2 transition-all",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-white/40 animate-pulse"}),"ClawdBot: Online"]}),e.jsx("button",{className:"p-1.5 text-obsidian-muted hover:text-foreground hover:bg-white/5 rounded-md transition-all active:scale-95",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-obsidian-muted hover:text-foreground hover:bg-white/5 rounded-md transition-all active:scale-95",children:e.jsx(E,{className:"w-4 h-4"})})]})]}),t||x||d?e.jsxs("div",{className:`flex-1 flex flex-col min-h-0 ${n?"fixed inset-0 z-50 bg-[#09090b]":""}`,children:[e.jsxs("div",{className:"flex items-end overflow-x-auto shrink-0 bg-transparent h-[38px] w-full border-b border-white/5 px-2 gap-1 pt-1.5 z-0",children:[e.jsxs("div",{className:"flex items-center h-full bg-black/40 backdrop-blur-md rounded-t-lg mx-1 px-4 gap-2 relative group min-w-[140px] max-w-[220px] border-t border-x border-white/5 text-white",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-white/10 rounded-t-lg"}),e.jsx(L,{className:"w-3.5 h-3.5 drop-shadow-md",style:{color:u((t==null?void 0:t.language)||"plaintext")}}),e.jsx("span",{className:"text-[12px] font-medium text-foreground truncate flex-1 tracking-wide",children:(t==null?void 0:t.name)||"Loading..."}),t&&e.jsx("span",{className:"text-[9px] text-obsidian-muted ml-1 opacity-0 group-hover:opacity-100 transition-opacity uppercase tracking-widest",children:t.language}),e.jsx("button",{onClick:v,className:"ml-2 text-obsidian-muted hover:text-white transition-all p-1 hover:bg-white/10 rounded-md active:scale-90 bg-black/20",children:e.jsx(O,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2 px-3 pb-1",children:[t&&(t.language==="markdown"||t.language==="html")&&e.jsxs("button",{onClick:()=>f(!l),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md text-[10px] uppercase tracking-wider font-bold text-obsidian-muted hover:text-foreground hover:bg-white/10 transition-all active:scale-95 border border-white/5 bg-black/20",title:l?"Preview":"Source",children:[l?e.jsx($,{className:"w-3.5 h-3.5"}):e.jsx(I,{className:"w-3.5 h-3.5"}),l?"Preview":"Source"]}),t&&e.jsxs("span",{className:"text-[10px] text-obsidian-muted font-mono bg-black/20 px-2 py-0.5 rounded-md border border-white/5",children:[t.lineCount,"L · ",N(t.size)]}),e.jsx("button",{onClick:()=>p(!n),className:"text-obsidian-muted hover:text-white transition-all p-1.5 hover:bg-white/10 rounded-md active:scale-90",title:n?"Exit Fullscreen":"Fullscreen",children:n?e.jsx(W,{className:"w-4 h-4"}):e.jsx(P,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto bg-black/20 backdrop-blur-xl custom-scrollbar relative z-0",children:[x&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"text-obsidian-muted text-sm animate-pulse",children:"Loading file..."})}),d&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"text-obsidian-danger text-sm",children:d})}),t&&t.language==="markdown"&&!l?e.jsx("div",{className:"p-8 max-w-4xl mx-auto markdown-preview",children:e.jsx(G,{remarkPlugins:[H],children:t.content})}):t&&t.language==="html"&&!l?e.jsx("iframe",{srcDoc:t.content,className:"w-full h-full border-0",sandbox:"allow-scripts allow-same-origin",title:`Preview: ${t.name}`,style:{background:"#fff"}}):t?e.jsx(q,{language:t.language==="shell"?"bash":t.language==="markdown"?"markdown":t.language,style:Z,showLineNumbers:!0,wrapLongLines:!1,customStyle:{margin:0,padding:"12px 0",background:"transparent",fontSize:"13px",lineHeight:"22px",borderRadius:0,height:"100%"},lineNumberStyle:{minWidth:"3em",paddingRight:"16px",color:"#3a3a4a",borderRight:"1px solid #2a2a30",marginRight:"16px",userSelect:"none"},codeTagProps:{style:{fontFamily:"'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'Consolas', monospace"}},children:t.content}):null]}),t&&e.jsxs("div",{className:"h-6 bg-black/40 backdrop-blur-md border-t border-white/5 flex items-center px-3 text-[10px] text-obsidian-muted gap-4 shrink-0 relative z-10",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:u(t.language)}}),t.language]}),e.jsx("span",{children:"UTF-8"}),e.jsxs("span",{children:[t.lineCount," lines"]}),e.jsx("span",{className:"ml-auto",children:t.path})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col p-0 overflow-hidden",children:[e.jsxs("div",{className:"h-[140px] border-b border-white/5 bg-black/20 backdrop-blur-xl flex shrink-0 relative",children:[e.jsxs("div",{className:"flex-1 border-r border-white/5 p-5 flex flex-col justify-between hover:bg-white/5 transition-colors z-10 relative",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-[10px] text-obsidian-muted font-bold uppercase tracking-widest",children:"Airflow DAGs"}),e.jsx(U,{className:"w-4 h-4 text-white/40"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-mono text-white tracking-tight",children:"12 / 12"}),e.jsxs("div",{className:"flex items-center mt-1 text-[11px] text-white/50 font-medium",children:[e.jsx(Y,{className:"w-3.5 h-3.5 mr-1 text-white/40"})," All Operational"]})]})]}),e.jsxs("div",{className:"flex-1 border-r border-white/5 p-5 flex flex-col justify-between hover:bg-white/5 transition-colors z-10 relative",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-[10px] text-obsidian-muted font-bold uppercase tracking-widest",children:"Agent Status"}),e.jsx(X,{className:"w-4 h-4 text-white/40"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[22px] font-mono text-white tracking-tight truncate",children:"Thinking..."}),e.jsxs("div",{className:"flex items-center mt-1 text-[11px] text-white/50 font-medium",children:[e.jsx(R,{className:"w-3.5 h-3.5 mr-1 text-white/40"})," Reviewing PR #42"]})]})]}),e.jsxs("div",{className:"flex-1 border-r border-white/5 p-5 flex flex-col justify-between hover:bg-white/5 transition-colors z-10 relative",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-[10px] text-obsidian-muted font-bold uppercase tracking-widest",children:"System Load"}),e.jsx(J,{className:"w-4 h-4 text-white/40"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-mono text-white tracking-tight",children:"34%"}),e.jsx("div",{className:"w-full bg-black/40 border border-white/5 h-[3px] mt-2 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-white/40 h-full w-[34%] rounded-full"})})]})]}),e.jsxs("div",{className:"flex-1 p-5 flex flex-col justify-between hover:bg-white/5 transition-colors z-10 relative",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-[10px] text-obsidian-muted font-bold uppercase tracking-widest",children:"Data Volume"}),e.jsx(M,{className:"w-4 h-4 text-white/40"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-mono text-white tracking-tight",children:"1.2 TB"}),e.jsx("div",{className:"mt-1 text-[11px] text-obsidian-muted/90 font-medium",children:"+12GB today"})]})]})]}),e.jsxs("div",{className:"flex-1 flex min-h-0",children:[e.jsxs("div",{className:"flex-[2] border-r border-white/5 flex flex-col bg-black/20 backdrop-blur-xl relative",children:[e.jsx("div",{className:"h-8 bg-black/40 border-b border-white/5 flex items-center px-4 justify-between shrink-0 shadow-sm z-10 relative",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-3.5 h-3.5 text-white/40"}),e.jsx("span",{className:"text-[10px] font-bold text-obsidian-muted uppercase tracking-widest",children:"Agent Console Output"})]})}),e.jsxs("div",{className:"flex-1 overflow-auto p-4 font-mono text-[11px] leading-6 custom-scrollbar relative z-10",children:[e.jsxs("div",{className:"text-obsidian-muted group hover:bg-white/5 px-2 -mx-2 rounded transition-colors",children:[e.jsx("span",{className:"text-white/30",children:"[10:42:15]"})," ",e.jsx("span",{className:"text-white/60 font-bold",children:"INFO..."})," Started metadata analysis of `medallion_pipeline.py`"]}),e.jsxs("div",{className:"text-obsidian-muted group hover:bg-white/5 px-2 -mx-2 rounded transition-colors",children:[e.jsx("span",{className:"text-white/30",children:"[10:42:25]"})," ",e.jsx("span",{className:"text-white/40 font-bold",children:"ACTION."})," Executing `pip install pandas==2.1.0` in Docker container..."]}),e.jsxs("div",{className:"text-obsidian-muted group hover:bg-white/5 px-2 -mx-2 rounded transition-colors",children:[e.jsx("span",{className:"text-white/30",children:"[10:43:02]"})," ",e.jsx("span",{className:"text-white/60 font-bold",children:"SUCCESS"})," Dependencies resolved."]}),e.jsxs("div",{className:"text-obsidian-muted group hover:bg-white/5 px-2 -mx-2 rounded transition-colors",children:[e.jsx("span",{className:"text-white/30",children:"[10:43:10]"})," ",e.jsx("span",{className:"text-white/60 font-bold",children:"PR OPEN"}),' Created PR #43: "Fix dependency issue"']}),e.jsxs("div",{className:"flex items-center text-foreground mt-2 px-2 -mx-2",children:[e.jsx("span",{className:"mr-2 text-white/40",children:"❯"}),e.jsx("span",{className:"w-2 h-3.5 bg-white/40 animate-pulse"})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col bg-black/20 backdrop-blur-xl relative",children:[e.jsxs("div",{className:"h-8 bg-black/40 border-b border-white/5 flex items-center px-4 justify-between shrink-0 shadow-sm z-10 relative",children:[e.jsx("span",{className:"text-[10px] font-bold text-obsidian-muted uppercase tracking-widest",children:"Iceberg Catalog"}),e.jsx(A,{className:"w-3.5 h-3.5 text-obsidian-muted"})]}),e.jsx("div",{className:"flex-1 overflow-auto p-2 custom-scrollbar relative z-10",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 px-3 pb-3 text-[10px] text-obsidian-muted font-bold uppercase tracking-wider",children:"Table"}),e.jsx("th",{className:"p-2 px-3 pb-3 text-[10px] text-obsidian-muted font-bold uppercase tracking-wider text-right",children:"Modified"})]})}),e.jsx("tbody",{className:"text-[12px]",children:[{name:"orders_bronze",time:"2m",color:"text-white/40"},{name:"customer_silver",time:"15m",color:"text-white/40"},{name:"revenue_gold",time:"1h",color:"text-white/40"}].map((s,a)=>e.jsxs("tr",{className:"group cursor-pointer",children:[e.jsxs("td",{className:"p-2 px-3 border-b border-white/5 text-foreground flex items-center gap-2.5 transition-colors group-hover:bg-white/[0.02] rounded-l-md border-l-2 border-transparent group-hover:border-white/20",children:[e.jsx(_,{className:T("w-4 h-4",s.color)}),e.jsx("span",{className:"group-hover:text-white transition-colors",children:s.name})]}),e.jsx("td",{className:"p-2 px-3 border-b border-white/5 text-obsidian-muted text-right transition-colors group-hover:bg-white/[0.02] rounded-r-md group-hover:text-foreground",children:s.time})]},a))})]})})]})]})]})]})]})}function he(){return e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex h-screen bg-obsidian-bg text-foreground items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-obsidian-muted",children:"Loading..."})}),children:e.jsx(ee,{})})}export{he as default};
