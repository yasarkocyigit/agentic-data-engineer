import{r as i,j as e}from"./index-CcXpoZej.js";import{c as ne,S as de,i as Z,e as p,D as C,M as le}from"./Sidebar--sQWCiQF.js";import{L as ce}from"./layout-panel-left-Dg980y9u.js";import{L as q}from"./layers-C568ZmXd.js";import{C as xe}from"./chevron-down-B_PkHte5.js";import{R as pe}from"./refresh-cw-CXkMaxss.js";import{B as A}from"./box-C-TsutWA.js";import{C as X}from"./circle-BnX26Tl2.js";import{Z as he,a as me}from"./zoom-out-Cdl6yCEW.js";import{L as be}from"./loader-circle-DTiCSUKX.js";import{I as ue}from"./info-B0vjB2R9.js";import{T as fe}from"./tag-WcJ0EJgB.js";import{C as ge}from"./clock-dthER2hL.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],je=ne("arrow-right",we),S=220,v=50,ve=200,Ne=80;function ye(h,j){if(h.length===0)return[];const n=new Map,f=new Map;h.forEach(r=>{n.set(r.id,[]),f.set(r.id,[])}),j.forEach(r=>{var c,m;(c=n.get(r.origin))==null||c.push(r.destination),(m=f.get(r.destination))==null||m.push(r.origin)});const l=new Map,b=[];for(h.forEach(r=>{(f.get(r.id)||[]).length===0&&(l.set(r.id,0),b.push(r.id))}),b.length===0&&h.forEach((r,c)=>l.set(r.id,c%3));b.length>0;){const r=b.shift(),c=l.get(r);(n.get(r)||[]).forEach(m=>{const y=l.get(m);(y===void 0||y<c+1)&&(l.set(m,c+1),b.push(m))})}const u=new Map;return h.map(r=>{const c=l.get(r.id)||0,m=u.get(c)||0;return u.set(c,m+1),{...r,x:c*(S+ve)+60,y:m*(v+Ne)+60,layer:c}})}function K(h,j){const n=h.x+S,f=h.y+v/2,l=j.x,b=j.y+v/2,u=(n+l)/2;return`M ${n} ${f} C ${u} ${f}, ${u} ${b}, ${l} ${b}`}function Oe(){const[h,j]=i.useState([]),[n,f]=i.useState(""),[l,b]=i.useState([]),[u,T]=i.useState([]),[r,c]=i.useState([]),[m,y]=i.useState([]),[t,Q]=i.useState(null),[_,z]=i.useState(null),[E,O]=i.useState(!0),[I,U]=i.useState(!1),[G,D]=i.useState(null),[M,P]=i.useState(!1),[V,N]=i.useState(1),[k,L]=i.useState({x:0,y:0}),[F,W]=i.useState(!1),R=i.useRef({x:0,y:0}),ee=i.useRef(null),$=i.useCallback(async()=>{try{O(!0);const a=await(await fetch("/api/lineage?action=namespaces")).json();if(a.error)throw new Error(a.error);const o=a.namespaces||[];j(o),o.length>0&&!n&&f(o[0].name)}catch(s){D(s instanceof Error?s.message:"Failed to fetch namespaces")}finally{O(!1)}},[n]),B=i.useCallback(async s=>{try{const[a,o]=await Promise.all([fetch(`/api/lineage?action=jobs&ns=${encodeURIComponent(s)}`),fetch(`/api/lineage?action=datasets&ns=${encodeURIComponent(s)}`)]),d=await a.json(),x=await o.json();b(d.jobs||[]),T(x.datasets||[])}catch(a){console.error("Failed to fetch namespace data",a)}},[]),H=i.useCallback(async s=>{try{U(!0),D(null);const o=await(await fetch(`/api/lineage?action=lineage&nodeId=${encodeURIComponent(s)}&depth=10`)).json();if(o.error)throw new Error(o.error);const d=o.graph||[],x=d.map(g=>({id:g.id,type:g.type,data:g.data,inEdges:g.inEdges||[],outEdges:g.outEdges||[]})),w=[];d.forEach(g=>{(g.outEdges||[]).forEach(oe=>{w.push({origin:g.id,destination:oe.destination})})});const ie=ye(x,w);c(ie),y(w),L({x:40,y:40}),N(.85)}catch(a){D(a instanceof Error?a.message:"Failed to fetch lineage")}finally{U(!1)}},[]);i.useEffect(()=>{$()},[]),i.useEffect(()=>{n&&B(n)},[n,B]);const se=s=>{s.button===0&&(W(!0),R.current={x:s.clientX-k.x,y:s.clientY-k.y})},te=s=>{F&&L({x:s.clientX-R.current.x,y:s.clientY-R.current.y})},J=()=>W(!1),ae=s=>{s.preventDefault();const a=s.deltaY>0?-.05:.05;N(o=>Math.max(.2,Math.min(3,o+a)))},re=s=>s.type==="DATASET"?{fill:_===s.id?"var(--color-obsidian-panel-header)":"var(--color-obsidian-panel)",stroke:(t==null?void 0:t.id)===s.id?"#38bdf8":"var(--color-obsidian-border)",iconColor:"#38bdf8"}:{fill:_===s.id?"var(--color-obsidian-panel-header)":"var(--color-obsidian-panel)",stroke:(t==null?void 0:t.id)===s.id?"#818cf8":"var(--color-obsidian-border)",iconColor:"#818cf8"},Y=s=>{switch(s==null?void 0:s.toUpperCase()){case"COMPLETED":case"SUCCESS":return"var(--color-obsidian-success)";case"FAILED":return"var(--color-obsidian-danger)";case"RUNNING":return"var(--color-obsidian-warning)";case"ABORTED":return"var(--color-obsidian-muted)";default:return"var(--color-obsidian-muted)"}};return e.jsxs("div",{className:"flex h-screen bg-[#09090b] text-foreground font-sans overflow-hidden relative",style:{fontFamily:"'Inter', -apple-system, sans-serif"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-[800px] h-[800px] bg-purple-500/5 rounded-full blur-[120px] pointer-events-none -translate-x-1/4 -translate-y-1/4 z-0"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-sky-500/5 rounded-full blur-[100px] pointer-events-none translate-x-1/4 -translate-y-1/4 z-0"}),e.jsx("div",{className:"relative z-10 shrink-0",children:e.jsx(de,{})}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-transparent relative z-10",children:[e.jsxs("div",{className:"flex items-center px-4 justify-between shrink-0 h-10 bg-black/60 border-b border-obsidian-border/30 z-10 w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 text-[12px]",children:[e.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openclaw:toggle-sidebar")),className:"p-1.5 hover:bg-white/10 rounded-md text-obsidian-muted hover:text-white transition-all active:scale-95 border border-transparent hover:border-obsidian-border/50",title:"Toggle Explorer",children:e.jsx(ce,{className:"w-4 h-4 drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]"})}),e.jsx("div",{className:"w-[1px] h-4 bg-obsidian-border/50"}),e.jsx(Z,{className:"w-4 h-4 text-indigo-400 drop-shadow-[0_0_8px_rgba(129,140,248,0.5)]"}),e.jsx("span",{className:"text-white font-semibold tracking-wide",children:"Data Lineage"}),e.jsx("span",{className:"text-obsidian-muted/50",children:"·"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>P(!M),className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#18181b] border border-obsidian-border/50 rounded-md text-[11px] font-medium hover:border-white/20 hover:bg-[#27272a] transition-all active:scale-95 shadow-sm",children:[e.jsx(q,{className:"w-3 h-3 text-indigo-400"}),e.jsx("span",{className:p(n?"text-white/90":"text-obsidian-muted"),children:n||"Select Namespace"}),e.jsx(xe,{className:p("w-3.5 h-3.5 text-obsidian-muted transition-transform duration-200",M&&"rotate-180")})]}),M&&e.jsxs("div",{className:"absolute top-9 left-0 mt-1 bg-[#18181b]/95 backdrop-blur-xl border border-obsidian-border/50 rounded-lg shadow-2xl z-50 min-w-[200px] overflow-hidden flex flex-col",children:[h.map(s=>e.jsx("button",{onClick:()=>{f(s.name),P(!1)},className:p("w-full text-left px-3 py-2.5 text-[11px] transition-all border-l-2 border-transparent hover:bg-white/5",n===s.name?"bg-indigo-500/10 border-indigo-500 text-white font-medium":"text-obsidian-muted hover:text-white"),children:s.name},s.name)),h.length===0&&e.jsx("div",{className:"px-3 py-3 text-[10px] text-obsidian-muted italic text-center",children:"No namespaces found"})]})]}),e.jsx("span",{className:"text-obsidian-muted/50",children:"·"}),e.jsxs("span",{className:"text-obsidian-muted font-mono bg-white/5 px-2 py-0.5 rounded",children:[l.length," jobs"]}),e.jsxs("span",{className:"text-obsidian-muted font-mono bg-white/5 px-2 py-0.5 rounded",children:[u.length," datasets"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:$,className:"p-1.5 hover:bg-white/10 rounded-md text-obsidian-muted hover:text-white transition-colors border border-transparent hover:border-white/10",title:"Refresh",children:e.jsx(pe,{className:"w-3.5 h-3.5"})})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden bg-transparent",children:[e.jsxs("div",{className:"w-[280px] border-r border-obsidian-border/30 flex flex-col bg-black/20 backdrop-blur-xl overflow-hidden shrink-0 shadow-[4px_0_24px_rgba(0,0,0,0.4)] z-10 transition-all duration-300",children:[e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col border-b border-obsidian-border/30",children:[e.jsxs("div",{className:"px-4 py-3 text-[10px] font-bold text-obsidian-muted uppercase tracking-widest flex items-center justify-between bg-black/40 shrink-0 shadow-sm border-b border-obsidian-border/20 sticky top-0 z-10 backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(A,{className:"w-3.5 h-3.5 text-indigo-400"}),"Jobs"]}),e.jsx("span",{className:"bg-white/10 px-1.5 py-0.5 rounded text-white/70",children:l.length})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto w-full custom-scrollbar",children:[l.map(s=>{var o;const a=(t==null?void 0:t.id)===`job:${n}:${s.name}`;return e.jsxs("button",{onClick:()=>H(`job:${n}:${s.name}`),className:p("w-full text-left px-4 py-2.5 text-[11.5px] flex items-center gap-2.5 group transition-colors border-l-[3px]",a?"bg-indigo-500/10 border-indigo-400 text-white font-medium shadow-[inset_0_1px_0_rgba(255,255,255,0.02)]":"bg-transparent border-transparent hover:bg-white/5 text-obsidian-muted hover:text-white/90"),children:[e.jsx(X,{className:p("w-2 h-2 flex-shrink-0 transition-colors",a?"text-indigo-400":""),style:{color:a?void 0:Y((o=s.latestRun)==null?void 0:o.state)}}),e.jsx("span",{className:"truncate flex-1",children:s.name})]},s.name)}),l.length===0&&!E&&e.jsx("div",{className:"px-4 py-6 text-[11px] text-obsidian-muted/50 italic text-center",children:"No jobs in namespace"})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-4 py-3 text-[10px] font-bold text-obsidian-muted uppercase tracking-widest flex items-center justify-between bg-black/40 shrink-0 shadow-sm border-b border-obsidian-border/20 sticky top-0 z-10 backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(C,{className:"w-3.5 h-3.5 text-sky-400"}),"Datasets"]}),e.jsx("span",{className:"bg-white/10 px-1.5 py-0.5 rounded text-white/70",children:u.length})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto w-full pb-6 custom-scrollbar",children:[u.map(s=>{const a=(t==null?void 0:t.id)===`dataset:${n}:${s.name}`;return e.jsxs("button",{onClick:()=>H(`dataset:${n}:${s.name}`),className:p("w-full text-left px-4 py-2.5 text-[11.5px] flex items-center gap-2.5 group transition-colors border-l-[3px]",a?"bg-sky-500/10 border-sky-400 text-white font-medium shadow-[inset_0_1px_0_rgba(255,255,255,0.02)]":"bg-transparent border-transparent hover:bg-white/5 text-obsidian-muted hover:text-white/90"),children:[e.jsx(C,{className:p("w-3.5 h-3.5 flex-shrink-0 transition-colors",a?"text-sky-400 drop-shadow-[0_0_5px_rgba(56,189,248,0.4)]":"text-sky-400/50 group-hover:text-sky-400/80")}),e.jsx("span",{className:"truncate flex-1",children:s.name})]},s.name)}),u.length===0&&!E&&e.jsx("div",{className:"px-4 py-6 text-[11px] text-obsidian-muted/50 italic text-center",children:"No datasets in namespace"})]})]})]}),e.jsxs("div",{className:"flex-1 relative bg-transparent overflow-hidden",children:[e.jsxs("div",{className:"absolute top-3 right-3 z-20 flex flex-col gap-1",children:[e.jsx("button",{onClick:()=>N(s=>Math.min(3,s+.15)),className:"p-1.5 bg-obsidian-panel border border-obsidian-border rounded hover:bg-obsidian-panel-hover transition-colors",children:e.jsx(he,{className:"w-3.5 h-3.5 text-foreground"})}),e.jsx("button",{onClick:()=>N(s=>Math.max(.2,s-.15)),className:"p-1.5 bg-obsidian-panel border border-obsidian-border rounded hover:bg-obsidian-panel-hover transition-colors",children:e.jsx(me,{className:"w-3.5 h-3.5 text-foreground"})}),e.jsx("button",{onClick:()=>{N(.85),L({x:40,y:40})},className:"p-1.5 bg-obsidian-panel border border-obsidian-border rounded hover:bg-obsidian-panel-hover transition-colors",children:e.jsx(le,{className:"w-3.5 h-3.5 text-foreground"})})]}),E||I?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(be,{className:"w-6 h-6 text-obsidian-purple animate-spin"}),e.jsx("span",{className:"text-[12px] text-obsidian-muted",children:I?"Loading lineage...":"Connecting to Marquez..."})]})}):G?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 max-w-md text-center",children:[e.jsx(ue,{className:"w-8 h-8 text-obsidian-danger"}),e.jsx("span",{className:"text-[12px] text-obsidian-danger",children:G}),e.jsx("button",{onClick:$,className:"px-3 py-1 bg-obsidian-panel border border-obsidian-border rounded text-[11px] hover:bg-obsidian-panel-hover transition-all active:scale-95",children:"Retry"})]})}):r.length===0?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center max-w-sm p-8 rounded-2xl bg-black/20 backdrop-blur-md border border-white/5 shadow-2xl",children:[e.jsx("div",{className:"p-4 rounded-full bg-white/5 drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:e.jsx(Z,{className:"w-12 h-12 text-obsidian-border"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[16px] font-medium text-foreground mb-2 tracking-tight",children:"Select a node to explore lineage"}),e.jsx("p",{className:"text-[12px] text-obsidian-muted leading-relaxed",children:"Choose any job or dataset from the explorer panel to visualize its upstream and downstream data flow dependencies."})]})]})}):e.jsxs("svg",{ref:ee,className:p("w-full h-full",F?"cursor-grabbing":"cursor-grab"),onMouseDown:se,onMouseMove:te,onMouseUp:J,onMouseLeave:J,onWheel:ae,children:[e.jsxs("defs",{children:[e.jsx("pattern",{id:"ide-grid",width:"30",height:"30",patternUnits:"userSpaceOnUse",children:e.jsx("circle",{cx:"1",cy:"1",r:"1",fill:"rgba(255,255,255,0.05)"})}),e.jsx("filter",{id:"nodeShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:e.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodColor:"#000000",floodOpacity:"0.4"})}),e.jsx("filter",{id:"nodeShadowHover",x:"-20%",y:"-20%",width:"140%",height:"140%",children:e.jsx("feDropShadow",{dx:"0",dy:"6",stdDeviation:"8",floodColor:"#000000",floodOpacity:"0.6"})}),e.jsxs("filter",{id:"glowSelected",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[e.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"blur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),e.jsxs("linearGradient",{id:"edgeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"var(--color-obsidian-border)",stopOpacity:"0.4"}),e.jsx("stop",{offset:"50%",stopColor:"var(--color-obsidian-info)",stopOpacity:"0.9"}),e.jsx("stop",{offset:"100%",stopColor:"var(--color-obsidian-border)",stopOpacity:"0.4"})]}),e.jsx("style",{children:`
                                            @keyframes flowAnim {
                                                to { stroke-dashoffset: -40; }
                                            }
                                        `})]}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#ide-grid)",pointerEvents:"none"}),e.jsxs("g",{transform:`translate(${k.x}, ${k.y}) scale(${V})`,children:[m.map((s,a)=>{const o=r.find(w=>w.id===s.origin),d=r.find(w=>w.id===s.destination);if(!o||!d)return null;const x=t&&(t.id===o.id||t.id===d.id);return e.jsxs("g",{children:[e.jsx("path",{d:K(o,d),fill:"none",stroke:"transparent",strokeWidth:10}),e.jsx("path",{d:K(o,d),fill:"none",stroke:x?"url(#edgeGradient)":"var(--color-obsidian-border)",strokeWidth:x?2.5:1.5,opacity:x?1:.3,strokeDasharray:x?"4 8":"none",style:x?{animation:"flowAnim 1.5s linear infinite"}:{}}),e.jsx("circle",{cx:d.x,cy:d.y+v/2,r:x?4:3,fill:x?"var(--color-obsidian-info)":"var(--color-obsidian-muted)",filter:x?"url(#glowSelected)":void 0})]},a)}),r.map(s=>{const a=re(s),o=s.data.name.length>28?s.data.name.slice(0,12)+"..."+s.data.name.slice(-12):s.data.name,d=(t==null?void 0:t.id)===s.id,x=_===s.id;return e.jsxs("g",{transform:`translate(${s.x}, ${s.y})`,onClick:()=>Q(s),onMouseEnter:()=>z(s.id),onMouseLeave:()=>z(null),className:"cursor-pointer transition-all duration-300",children:[d&&e.jsx("rect",{x:-4,y:-4,width:S+8,height:v+8,rx:10,fill:"none",stroke:a.stroke,strokeWidth:2,filter:"url(#glowSelected)",opacity:.7}),e.jsx("foreignObject",{x:"0",y:"0",width:S,height:v,children:e.jsxs("div",{className:p("w-full h-full rounded-lg border flex flex-col justify-center px-3 relative overflow-hidden transition-all duration-300",d?"bg-black/80 shadow-[0_0_20px_rgba(0,0,0,0.5)] border-transparent":"bg-obsidian-panel/80 hover:bg-obsidian-panel shadow-lg",x&&!d?"border-white/20":"border-obsidian-border/50"),style:{backdropFilter:"blur(8px)",borderColor:d?a.stroke:void 0},children:[d&&e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] opacity-80",style:{background:`linear-gradient(90deg, transparent, ${a.stroke}, transparent)`}}),e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:p("p-1.5 rounded-md shrink-0 transition-colors",d?"bg-white/10":"bg-black/20"),children:s.type==="DATASET"?e.jsx(C,{className:"w-4 h-4",style:{color:a.iconColor}}):e.jsx(A,{className:"w-4 h-4",style:{color:a.iconColor}})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:p("text-[12px] truncate transition-colors",d?"text-white font-semibold":"text-foreground font-medium"),children:o}),e.jsx("span",{className:"text-[9px] text-obsidian-muted uppercase tracking-wider font-mono",children:s.type})]})]})]})})]},s.id)})]})]}),r.length>0&&e.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-5 text-[10px] text-white/60 bg-[#18181b]/90 backdrop-blur-md px-4 py-2 rounded-lg border border-white/10 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-sky-500/20 border border-sky-500/50"}),"Dataset"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-indigo-500/20 border border-indigo-500/50"}),"Job"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-3.5 h-3.5 text-white/40"}),"Data Flow"]})]})]}),t&&e.jsxs("div",{className:"w-[320px] border-l border-white/5 flex flex-col bg-black/20 backdrop-blur-xl overflow-hidden shrink-0 shadow-[-4px_0_24px_rgba(0,0,0,0.4)] z-10 transition-all duration-300 transform translate-x-0",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-white/5 bg-black/40 shadow-sm shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[t.type==="DATASET"?e.jsx(C,{className:"w-4.5 h-4.5 text-sky-400 drop-shadow-[0_0_8px_rgba(56,189,248,0.3)]"}):e.jsx(A,{className:"w-4.5 h-4.5 text-indigo-400 drop-shadow-[0_0_8px_rgba(129,140,248,0.3)]"}),e.jsx("span",{className:"text-[14px] font-semibold text-white tracking-wide truncate",children:t.data.name})]}),e.jsx("span",{className:p("text-[9px] px-2 py-0.5 rounded font-mono font-bold tracking-widest uppercase shadow-[inset_0_1px_0_rgba(255,255,255,0.05)]",t.type==="DATASET"?"bg-sky-500/10 border border-sky-500/20 text-sky-400":"bg-indigo-500/10 border border-indigo-500/20 text-indigo-400"),children:t.type})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4 text-[11px] custom-scrollbar",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(q,{className:"w-3.5 h-3.5"})," Namespace"]}),e.jsx("div",{className:"text-foreground",children:t.data.namespace})]}),t.data.type&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(fe,{className:"w-3.5 h-3.5"})," Type"]}),e.jsx("div",{className:"text-foreground",children:t.data.type})]}),t.data.description&&e.jsxs("div",{children:[e.jsx("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1",children:"Description"}),e.jsx("div",{className:"text-foreground",children:t.data.description})]}),t.data.updatedAt&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(ge,{className:"w-3.5 h-3.5"})," Updated"]}),e.jsx("div",{className:"text-foreground",children:new Date(t.data.updatedAt).toLocaleString()})]}),t.type==="DATASET"&&t.data.fields&&t.data.fields.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1",children:["Columns (",t.data.fields.length,")"]}),e.jsx("div",{className:"space-y-1",children:t.data.fields.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[e.jsx("span",{className:"text-foreground",children:s.name}),e.jsx("span",{className:"text-[9px] px-1 py-[1px] rounded bg-obsidian-info/10 text-obsidian-info font-mono transition-all active:scale-95",children:s.type})]},a))})]}),t.type==="JOB"&&t.data.latestRun&&e.jsxs("div",{children:[e.jsx("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1",children:"Latest Run"}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(X,{className:"w-2.5 h-2.5",style:{color:Y(t.data.latestRun.state)}}),e.jsx("span",{className:"text-foreground",children:t.data.latestRun.state})]}),t.data.latestRun.durationMs&&e.jsxs("div",{className:"text-obsidian-muted",children:["Duration: ",(t.data.latestRun.durationMs/1e3).toFixed(1),"s"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-obsidian-muted text-[10px] uppercase tracking-wider mb-1",children:"Connections"}),e.jsxs("div",{className:"text-foreground",children:[t.inEdges.length," inputs · ",t.outEdges.length," outputs"]})]})]})]})]})]})]})}export{Oe as default};
